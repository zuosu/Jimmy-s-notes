# 1. 文章信息
A review of leakage detection strategies for pressurised pipeline in steady-state
# 2. 背景、目的及结论
重新审视以前所有关于泄漏检测方法的评论性文献，发现没有一篇文献强调和讨论了所有类别的泄漏检测技术。这项研究的动机是以一种简化的方式对各种泄漏检测技术进行广泛的概述。
# 3. 正文笔记
基于软件的漏损检测方法可以分为间接性方法和推断方法；按照管网系统水力学状态可以分为稳态、暂态和混合态。本篇文章只讲述稳态的方法，暂态并不涉及。
___
基于稳态管网系统的漏损检测方法又可以分为基于模型的方法和数据驱动方法。**基于模型的方法又可以分为直接方法（简单而又直接的比较压力）；间接方法（使用复杂的数学公式运算从压力数据中区分异常）**。

数据驱动技术可以根据（a）方法中使用的原始数据的类型和来源，以及（b）用于从原始数据中提取泄漏信息的数学和计算技术进一步分类（图2）。根据对收集到的数据进行的训练类型，这些方法也被分为有监督和无监督的。除此以外，还提出了其他几种方法，可以称为混合方法，使用两种或更多不同的核心技术和基于知识的方法的组合，如GA、**模糊逻辑**、神经网络和人工智能，尽管这些在本研究中没有详细讨论。

> 模糊逻辑这块以后可以找论文看看。因为之前看过的一篇论文（使用一种模型失效的方法进行漏损检测和定位），侧重点是为解决模型参数存在不确定性的问题，设置了一个范围。这个不确定性是否可以利用模糊理论？
___
目前，**几乎所有在实际系统中使用的基于软件的泄漏检测方法都是在稳态条件下运行的**[54]。这些技术主要是基于对流量、压力、消费者需求或声学数据的分析，这些数据是从大量的传感器中收集的，以便从管道系统中编制足够的数据。这些基于软件的技术又被分为基于模型和数据驱动的方法。如果有大量来自真实网络的历史数据，数据驱动的方法更合适。而基于模型的方法在从实际网络中获得的数据较少时更受欢迎，但其水力模型是现成的。

* 基于模型的漏损检测方法

该方法最早在1992年被提出(Pudar, R.S., Liggett, J.A., 1992. Leaks in pipe networks. Journal of Hydraul. Eng. ASCE 118 (7), pp. 1031-1046)其中泄漏检测被设定为一个最小平方的参数估计问题。这种技术被证明对在稳态条件下运行的水网相当无效。从那时起，基于模型的技术有了很大的发展。无论使用何种不同的技术和数学应用，所有基于模型的方法都是三个关键阶段的组合**（i）模型建立，（ii）模型校准和验证，以及（iii）泄漏检测分析**。对于大多数方法来说，前两个阶段在技术上是相似的，而第三阶段将根据分析的具体数据和使用的数学技术，根据泄漏检测所采用的不同策略而有所不同。

基于模型的技术在很大程度上依赖于数字模型来模拟真实的管道，而这些方法的成功在很大程度上取决于模拟模型的质量。使用不同类型的优化技术，用真实系统的实际数据对这些模型进行校准，是这些方法的组成部分。图3表示了所有基于模型的方法的一般化框架，在一个整体算法中封装了几种多样化的方法。
1. 模型建立
它包括选择一个合适的建模软件仿真引擎和创建管道网络地图，以及所有包含的功能。**流体流动模型由于其非显性而具有经验性，只能通过数值过程来解决**。如表3所示，有几个软件平台可用于创建适合不同流体的水力模型，具有不同的水力能力和操作模块。一些可用于WDN的商业软件也有一个内置的泄漏检测模块，该模块根据使用GA的优化原则运行（如WaterGEMS）。泄漏在网络的潜在泄漏节点中被表示为**发射器系数（emitter co-efficients）**，其中发射器系数的数值越大，意味着泄漏量越大。管道系统的结构和运行数据库作为水力模型的输入信息。这些输入信息需要在真实系统的无泄漏条件下获得，这些信息可以通过几种不同的软件和信息系统进行组装，如地理信息系统（GIS）、计算机辅助设计和起草（CADD）、监督控制和数据采集（SCADA）、客户信息系统（CIS）和资产管理系统（AMS）等等。

![](https://files.mdnice.com/user/25190/bee636f0-1158-405a-b641-337653af5651.png)
multi-phase flow
2. 模型校准和验证
任何基于模型的技术的校准都是分**两个阶段**进行的，即**模型数据与真实数据的比较和模型的重新修改**。准备好的水力模型应该尽可能地模仿实际网络的结构和运行特性。模型预处理是在校准前进行的，以减少校准过程中潜在的候选者，因为该过程的模拟复杂性与校准的候选者数量成正比[54]。**在校准阶段考虑了两种情况——稳态测试（瞬时测试）和延长期（长期测试）。**
如果在模拟过程中观察到任何明显的差异，则对模型属性进行调整和修改，以更好地匹配现场结果。由于校准过程是迭代的，它可能需要几个步骤的比较和修改。传统上，管道摩擦系数和节点消费者需求在水力模型网络中被调整，以尽量减少与真实网络测量的差异。其他可以重新调整的因素是连接性、运行配置、流量模式和海拔高度。校准结束后，再次将模型的模拟结果与现场数据进行比较，使用特定的指标，如储水箱的水位、泵的运行情况、粗糙度系数、静态压力和残余压力，在不同的运行情况下获得，以验证校准后的模型。因此，我们得到了一个结构准确且经过良好校准的真实管道模型，这是成功实施该方法的基本需要。
> 关注稳态测试（瞬时测试）和延长期（长期测试）这两个校准阶段
3. 漏损检测方法

	直接方法：
在稳态条件下检测管道泄漏的最直接的基于模型的方法是基于从真实网络的几个位置推断压力信息，并将其与为同一网络开发的水力模型中相应位置的模拟压力进行比较。这种方法被广泛称为**压力残差向量（PRV）方法**，它是基于模型的泄漏诊断方法的基本理念[58]。在真实网络和模拟网络的同一位置上，真实压力值和模拟压力值的差异被称为残差，当这些残差高于某个门槛（使用统计或基于集合的方法根据模型的不确定性进行选择）时，预计会出现一个或多个泄漏[59]。为了确保所开发技术的稳健性，根据输入信息以及系统动力学，所选择的门槛应该在时域上是自适应的。 为了成功实施这种方法，高和瞬时的压力下降是一个前提条件，而缓慢发生的**小尺寸泄漏在很大程度上仍然无法检测到**。
> 模拟压力值是怎么计算出来的？

	间接方法：
基于模型的间接方法在本质上更为复杂。在模型建立的校准阶段，泄漏信息可以与校准过程结合起来，并利用它来定位泄漏[57]。***（i）*** 像GA这样的进化优化技术与校准结合使用，通过将泄漏建模为压力驱动的需求，进行泄漏识别[56]。***（ii）*** 基于敏感度的技术也可以应用于泄漏检测阶段。基于一个经过良好校准的水力模型对泄漏和非泄漏情况的压力敏感性，生成一个泄漏敏感性矩阵，然后将其与数值高于其门槛的残余向量进行比较。与残差向量相关度最高的泄漏敏感性矩阵列表示潜在的泄漏位置[54]。***（iii）*** 同样，可以得到残差向量和泄漏敏感性矩阵列（角度法）之间的角度，以隔离泄漏位置[60]。表4列出了一些重要的基于模型的研究的比较摘要。**目前，基于模型的方法已经对使用合成数据的简单网络和控制条件下的真实数据的现场网络进行了验证。**
![](https://files.mdnice.com/user/25190/a54d4b8a-7366-4111-846a-0c24be9a5450.png)
* 基于数据驱动的漏损检测方法

数据驱动的技术对于配备了大量监测传感器的管道系统的泄漏检测具有良好的适用性。这些方法能够避免直接水力建模的技术复杂性，因此管道的结构和运行复杂性（特别是在水网中）并不影响其适用性。简单地说，这些技术努力定位数据中可能由异常负压波（NPW）引起的异常值，基于压力点分析（PPA）的方法分析了附近传感器对泄漏引起的声波的检测时间，而基于压力点分析（PPA）的方法则根据泄漏导致的压力值减少来检测泄漏[58, 61]。这些方法更适合于直线管道，在大型配电网络中很可能无法准确登记压力变化。数学预处理对于数据驱动的方法至关重要，这些方法中使用了多种多样的数学技术，特别是机器学习和统计分析。在最近开发的方法中，多变量分析以及聚类技术也被利用，这有利于更好地处理这些方法的不确定性。其他一些复杂的技术已经在配电网络中被开发和测试，显示出有希望的结果[27]。图4说明了数据驱动方法的一个典型过程方法。

1. 数据收集、预处理和转换
数据收集：传感器采集；用软件建立的模型模拟获得数据
数据预处理：是任何数据科学过程中最耗时的步骤，它包括清理和组织收集的数据，并确保他们适合用于所选择的算法中。使用真实数据会带来一些变异性和不确定性的问题，这些问题可以通过预处理或转换在一定程度上得到浓缩。预处理不遵循系统化的协议，根据原始数据的性质和所用算法的具体要求，使用不同的转换技术。数据处理的主要目的是消除时间序列中错误或缺失的数据，随后以必要的方式安排这些数据进行进一步分析。事实上，泄漏检测算法的成功实施主要取决于对原始数据进行充分和有效的预处理。
2. 漏损检测策略
数据驱动的泄漏检测技术可以根据所使用的技术程序进行分类，如简单的分类、预测分类或统计分析，也可以根据信号处理技术进行分类（图2）。在每个类别下开发的技术可以利用不同的系统变量作为输入信息，这也可以作为分类的标准。表5对一些数据驱动的技术（基于数据源）进行了评估。统计分析是数据驱动方法中最常用的技术，单变量和多变量方法都被使用[65]。像主成分分析（PCA）和独立成分分析（ICA）这样的统计程序被用来在空间上浓缩数据而不丢失有效信息。人工神经网络（ANN）、支持向量机（SVM）等机器学习工具与基于多变量分析和数据聚类算法的新方法也被广泛使用[16, 62]。区分由泄漏引起的离群数据的最直接的分类技术是通过计算预测和观察数据之间的绝对差异，而像贝叶斯推理系统（BIS）和**模糊推理系统（FIS）** 这样的复杂技术也是可用的。
滤波技术，**如线性卡尔曼滤波（KF），以及支持向量回归（SVR）和ANN，在一些研究中被广泛用于预测阶段[66, 67, 68, 69, 70]**，之后分类技术被常规地应用。分类技术要求在正常以及泄漏操作下从真实系统中获取数据。然而，即使有无泄漏网络的基础数据，基于预测的技术也可以被利用。无论使用何种技术，**高假阳性率（FPR）是这些方法的主要缺点**之一[27]。此外，从数据集中识别指示泄漏的异常值相对来说比确定泄漏事件的时间位置和严重程度要容易。目前，只有大尺寸的突发事件能被这种方法更有效地检测出来。
> 数据驱动分类技术的缺点：1. 具有高假阳性率；2. 只能识别大规模的泄漏事件；3. 不能很好的确定漏损时间、位置和漏损程度
	数字信号处理的方法
数字信号处理使用从管道获得的压力或声学信号进行特征提取，以识别泄漏特征。据观察，信号处理技术比更常用的NPW技术能提供更好的检测和泄漏位置，因为前者可以实现更清晰的信号转换[71]。然而，由于管道共振，对信号分析的带宽存在严格的限制[43]。选择母小波对任何相关信号进行小波变换在信号处理技术中具有重要意义[72]。使用的小波函数的一些常见例子是Haar小波、Meyer小波、Morlet小波、Mallet小波和Daubechies小波。数字信号处理首先由[73]（1999）与电子传感器结合使用，对使用离散傅里叶变换（DFT）记录的信号进行数字化和处理。用于分析泄漏信号的不同信号处理技术是快速傅里叶变换（FFT）、短期傅里叶变换（STFT）、小波变换（WT）和希尔伯特-黄变换（HHT）[22]。应用小波变换来识别压力信号中的奇异点是发现泄漏或断裂的常用技术[63, 64]。小波变换减少了噪声信号，并定位了可能由泄漏引起的尖锐过渡。使用小波的公式提供了更准确的局部时间和频率信息。小波变换可以有效地用于识别压力数据中与泄漏有关的偏移和尖峰[74]。时域和频域的信息和分析都可以同时考虑，以提取关于信号泄漏敏感特征的局部和全局信息。

* 混合泄漏检测技术
数据驱动和基于模型的方法已经被结合起来使用，在一个单一的技术中考虑到了两者的优势[76]。**真实网络的压力残差可以在第一阶段通过基于模型的方法获得，然后在第二阶段，可以对这些残差应用分类器，类似于数据驱动的方法[77]**。RTTM和NPW技术的结合已被有效地用于定位实验性气体管道中的泄漏，其误差小于10%[75]。在一些研究中，两个或更多的数据处理方案也被融合，以加强泄漏检测。[63, 64]提出了一种综合方法，其中不同的数据处理方案--统计过程、机器学习和信号处理被结合起来以提高泄漏检测的有效性。类似的方法已经在其他研究中提出，结合了不同的技术，如图论和神经网络[78]、小波分析和拉格朗日模型[79]、混乱特征和SVM[80]、粗糙集理论和人工蜂群训练的SVM[81]。有时，来自多个信号的原始信号数据可能被结合起来，产生一个新的信噪比较低的 "集成信号，从而提高后续泄漏算法的检测能力[71]。因此，任何两种可能分类不同但性能互补的泄漏检测技术都可以与开发一种混合方法相关联。无论采用何种技术，这种方法都被观察到大大增加了准确定位和确定泄漏尺寸的概率，而大多数直接的基于软件的方法都不能以明显的精度识别这两种泄漏。
___
# 4. 结果与讨论
## 4.1 讨论
	物理设备
使用物理设备进行漏损检测的方法不能提供连续的检测，而且他们的测试周期要比基于软件的方法要长。一栏与人工经验，易受外界环境的影响。因为这些模型的参数估计并不容易，而且对于大多数真实的网络来说，与阀门运行状态有关的数据在很大程度上是不可用的。有几个不可代表的参数和约束条件涉及到具有许多不确定性的水力网络模型。因此，**水力模型的维护变得非常麻烦**，因为水力网络模型的校准过程严格依赖于来自真实网络的适当数据的可用性。

	基于软件的方法
		1. 水力模型
传感器数量较少的情况下，模型法被证明非常有用。与数据驱动的方法不同，这些技术需要更少的数据来完成泄漏检测，只要有一个几乎准确的基础模型。然而校准好的模型并不总是可用的


		2. 数据驱动
数据驱动的方法在很大程度上依赖于管道系统可用的数据质量和数量，因此无法获得足够的高质量数据是其主要缺点。数据收集需要从网络的几个位置长期进行，以捕捉系统运行参数中由泄漏引起的水力变化。此外，大多数数据驱动的方法在泄漏检测方面比在泄漏定位方面更成功。

	硬件方法和软件方法的比较

与硬件方法相比，基于软件的技术从广义上讲，成本较低，劳动效率高。一旦校准、优化和验证，软件方法不需要超过几个人员，主要由计算机系统工作，利用开发的泄漏检测策略对管道系统进行持续监测。基于软件的方法提供的推断主要不依赖于操作者的技术能力或技能，就像大多数基于硬件的方法一样。在泄漏检测和定位方面的最佳结果也许是通过对一个综合方法的即兴发挥--结合两个或多个互补的技术或方法。最近许多研究提出使用这种混合技术，比独立的基于软件的技术更准确，错误和误报率更低。目前，这些技术很少，而且大部分都是处理两种互补技术的结合。
## 4.2 结果
在本工作中，试图对现有的泄漏检测方法进行系统和分层分类，对硬件和基于软件的方法进行比较评估，同时对管道的完整性管理策略进行广泛的背景研究。鉴于以前的研究主要关注的是缺乏全面的分类技术，本综述通过制定适当的分类和比较协议，对几种方法进行了基准测试。此外，软件方法的两个主要领域，即基于模型的技术和数据驱动的技术，已经得到了严格的分析，突出了理论上的进步和缺点。我们为这两种方法开发了全面和通用的框架，将多样化的方法封装在一个整体的算法中。该算法可以催化现有的基于软件的方法在选择适当的数据结构和计算工具方面的改进。
本综述发现，结合几种技术来制定混合技术，在泄漏检测的准确性方面提供了更好的性能，在误报方面的误差较小。这些系统的异质性有利于获得一个比独立的基于软件的系统具有更强计算能力的泄漏检测程序。它最终要求研究需要集中在这些混合技术的发展上，这些技术结合了不同的硬件和基于软件的工具的原理，具有协同传感和计算能力。另一方面，大多数开发的技术在较小的范围内表现出更好的性能。因此，研究界的动力应该针对这种技术的实际测试和应用。本综述对于水务部门选择适当的泄漏检测方法以及指导系统研究以促进由适当的计算工具设计的更强大的技术的发展具有巨大的意义。

# 5. 文章好在哪里（1个思路、2个绘图、5个句式）
下一步计划：
1. 看EPANET手册，找怎么预测出来的流量？
2. 看硕博毕业论文，使用软件建立水力模型是什么样子？